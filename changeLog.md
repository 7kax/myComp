# ChangeLog

## 2024-01-20

- 编译时通过抛出异常的方式报错

## 2024-01-21

- 修复了从内存加载整数时无法正常加载的问题
- 新增了`-D`编译标志，用于输出编译细节
    - 抽象语法树将打印在`tree.txt`中
    - 符号表将打印在`symbol_table.txt`中
- 调整了部分编译错误的报错信息
- 新增了对于`return`语句的检测
- 将`char`类型的实现改为有符号
- 栈帧按照16字节对齐
- 对于未识别的token增加了报错信息

## 2024-01-22

- 调用函数时不再检查参数个数
- **彻底重写了类型系统, 抛弃了基于枚举类型的实现, 改为使用类继承**
    - 新的类型系统区分了有无符号整数
    - 新的类型系统支持复杂指针类型
- 新增`Utils`文件, 用于存放一些工具函数

## 2024-01-23

- 调整了Token系统, 在枚举类型的基础上做了拓展, 应用了享元模式
- 删除了全局对象`scanner`
- 新增了`TokenProcessor`类, 用于预读取所有Token
    - 该类内置一个`Scanner`对象, 用于读取Token
    - 该类将Token存储在`vector`中, 并提供了`peek`和`next`方法
    - `Parser`与`Expression`类将使用该类, 而不是直接使用`Scanner`
    - 该类可以将Token序列写入文件, 用于调试(`token.txt`)